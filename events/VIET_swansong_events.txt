##################################################################################################################
#
# Swansong Events - Cybrxkhan's Last Offering for VIET
#
# Thank you everybody, etc. etc. etc., it's been a real pleasure, etc. etc. etc.
#
#
# All the world's a stage
# And all the men and women merely players.
# They have their exits and their entrances
# And one man in his time plays many parts.
#
##################################################################################################################

namespace = VIETScarboroughFair


# What has more value - the real thing, or a fake?
character_event = {
	id = VIETScarboroughFair.0
	desc = VIETScarboroughFair.0.desc
	picture = GFX_evt_scarborough_fair

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	#war = no

	trigger = {
		in_command = no
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = humble
		}
		modifier = {
			factor = 0.8
			trait = proud
		}
		modifier = {
			factor = 1.2
			learning = 14
		}
		modifier = {
			factor = 0.8
			NOT = { learning = 8 }
		}
		modifier = {
			factor = 1.2
			trait = trusting
		}
		modifier = {
			factor = 0.8
			trait = paranoid
		}
		modifier = {
			factor = 1.2
			trait = cynical
		}
		modifier = {
			factor = 0.8
			trait = zealous
		}
		modifier = {
			factor = 1.2
			trait = erudite
		}
		modifier = {
			factor = 0.8
			trait = stubborn
		}
	}

	option = {#yes
		name = VIETScarboroughFair.0.a
		piety = 1
	}
	option = {#yes
		name = VIETScarboroughFair.0.b
		prestige = 1
	}
	option = {#yes
		name = VIETScarboroughFair.0.c
		random_list = {
			50 = { prestige = 1 }
			50 = { piety = 1 }
		}
	}
	option = {#yes
		name = VIETScarboroughFair.0.d
		random = {
			add_trait = proud
			chance = 10
		}
	}
}

# Clump of dirt in hair
character_event = {
	id = VIETScarboroughFair.1
	desc = VIETScarboroughFair.1.desc
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	#war = no

	#trigger = {
		#in_command = no
	#}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = humble
		}
		modifier = {
			factor = 0.8
			trait = proud
		}
		modifier = {
			factor = 1.2
			trait = trusting
		}
		modifier = {
			factor = 0.8
			trait = paranoid
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = lustful
		}
		modifier = {
			factor = 0.8
			trait = chaste
		}
	}

	option = {#yes
		name = VIETScarboroughFair.1.a
		prestige = -1
	}
}

# Landslide
province_event = {
	id = VIETScarboroughFair.2
	desc = VIETScarboroughFair.2.desc
	picture = GFX_evt_apocalypto

	trigger = {
		owner = {
			any_demesne_province = {
				NOT = { has_province_modifier = VIET_province_landslide }
			}
		}
	}

	mean_time_to_happen = {
		months = 8000
		modifier = {
			factor = 3
			OR = {
				terrain = desert
				terrain = steppe
			}
		}
	}

	option = {#yes
		name = VIETScarboroughFair.2.a
		owner = {
			add_character_modifier = {
				name = VIET_leader_angered_peasants
				duration = 800
			}
			random = {
				add_trait = arbitrary
				chance = 10
			}
		}
		add_province_modifier = {
			name = VIET_province_landslide
			duration = 1200
		}
		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = decrease_prosperity_custom_tooltip
				hidden_tooltip = {
					change_variable = { which = prosperity_value value = -6 }
				}
			}
		}
	}
	option = {#yes
		name = VIETScarboroughFair.2.b
		owner = {
			random = {
				add_character_modifier = {
					name = VIET_leader_angered_peasants
					duration = 800
				}
				chance = 70
			}
			random = {
				add_trait = slothful
				chance = 10
			}
		}
		add_province_modifier = {
			name = VIET_province_landslide
			duration = 1200
		}
		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = decrease_prosperity_custom_tooltip
				hidden_tooltip = {
					change_variable = { which = prosperity_value value = -6 }
				}
			}
		}
	}
	option = {#yes
		name = VIETScarboroughFair.2.c
		owner = {
			add_character_modifier = {
				name = VIET_leader_who_cares
				duration = 800
			}
			random = {
				add_trait = charitable
				chance = 10
			}			
			wealth = -30
		}
		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = decrease_prosperity_custom_tooltip
				hidden_tooltip = {
					change_variable = { which = prosperity_value value = -3 }
				}
			}
		}
		random_list = {
			40 = {
				add_province_modifier = {
					name = VIET_province_landslide
					duration = 1200
				}
			}
			30 = {
				add_province_modifier = {
					name = VIET_province_landslide
					duration = 800
				}
			}
			20 = {
				add_province_modifier = {
					name = VIET_province_landslide
					duration = 600
				}
			}
			10 = {
				add_province_modifier = {
					name = VIET_province_landslide
					duration = 365
				}
			}
		}
	}
}

# Strong lads
province_event = {
	id = VIETScarboroughFair.3
	desc = VIETScarboroughFair.3.desc
	picture = GFX_evt_melee

	trigger = {
		owner = {
			any_demesne_province = {
				NOT = { has_province_modifier = VIET_province_strong_lads }
			}
		}
	}

	mean_time_to_happen = {
		months = 8000
		modifier = {
			owner = {
				war = yes
			}
			factor = 0.8
		}

	}

	option = {#yes
		name = VIETScarboroughFair.3.a
		add_province_modifier = {
			name = VIET_province_strong_lads
			duration = 2000
		}
	}
}

# Legendary monstrous men
character_event = {
	id = VIETScarboroughFair.4
	desc = VIETScarboroughFair.4.desc
	picture = GFX_evt_shaman_personal_advice

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	#war = no

	#trigger = {
		#in_command = no
	#}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			learning = 12
		}
		modifier = {
			factor = 0.8
			NOT = { learning = 8 }
		}
		modifier = {
			factor = 1.2
			diplomacy = 12
		}
		modifier = {
			factor = 0.8
			NOT = { diplomacy = 8 }
		}
		modifier = {
			factor = 1.2
			trait = trusting
		}
		modifier = {
			factor = 0.8
			trait = paranoid
		}
		modifier = {
			factor = 1.2
			trait = ambitious
		}
		modifier = {
			factor = 0.8
			trait = content
		}
	}

	option = {#yes
		name = VIETScarboroughFair.4.a
		add_character_modifier = {
			name = VIET_im_curious
			duration = 444
		}
	}
	option = {#yes
		name = VIETScarboroughFair.4.b
		random = {
			add_trait = cynical
			chance = 30
		}
	}
}

# Sixth sense
character_event = {
	id = VIETScarboroughFair.5
	desc = VIETScarboroughFair.5.desc
	picture = GFX_evt_whispers

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no

	#trigger = {
		#in_command = no
	#}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = shy
		}
		modifier = {
			factor = 0.8
			trait = gregarious
		}
		modifier = {
			factor = 1.2
			trait = paranoid
		}
		modifier = {
			factor = 0.8
			trait = trusting
		}
		modifier = {
			factor = 1.2
			trait = cruel
		}
		modifier = {
			factor = 0.8
			trait = kind
		}
		modifier = {
			factor = 1.2
			trait = arbitrary
		}
		modifier = {
			factor = 0.8
			trait = just
		}
		modifier = {
			factor = 1.2
			trait = wroth
		}
		modifier = {
			factor = 0.8
			trait = patient
		}
	}

	option = {#yes
		name = VIETScarboroughFair.5.a
		prestige = -1
		random = {
			add_trait = paranoid
			chance = 5
		}
	}
}

# brain fart
character_event = {
	id = VIETScarboroughFair.6
	desc = VIETScarboroughFair.6.desc
	picture = GFX_evt_hyouka

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no

	#trigger = {
		#in_command = no
		#NOT = { trait = genius }
	#}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = shy
		}
		modifier = {
			factor = 0.8
			trait = gregarious
		}
		modifier = {
			factor = 1.2
			trait = paranoid
		}
		modifier = {
			factor = 0.8
			trait = trusting
		}
		modifier = {
			factor = 1.2
			trait = slothful
		}
		modifier = {
			factor = 0.8
			trait = diligent
		}
		modifier = {
			factor = 1.2
			trait = wroth
		}
		modifier = {
			factor = 0.8
			trait = patient
		}
		#modifier = {
		#	factor = 1.2
		#	trait = absentminded
		#}
		#modifier = {
		#	factor = 0.8
		#	trait = perceptive
		#}
		modifier = {
			factor = 1.2
			is_dumb_trigger = yes
		}
		modifier = {
			factor = 0.8
			is_smart_trigger = yes
		}
	}

	option = {#yes
		name = VIETScarboroughFair.6.a
		character_event = { id = VIETScarboroughFair.7 tooltip = VIETScarboroughFair.7.tooltip }
	}
}

# brain fart
character_event = {
	id = VIETScarboroughFair.7
	desc = VIETScarboroughFair.7.desc
	picture = GFX_evt_scarborough_fair

	is_triggered_only = yes

	option = {#yes
		name = VIETScarboroughFair.7.a
		prestige = 1
	}
}

# food stuck in teeth
character_event = {
	id = VIETScarboroughFair.8
	desc = VIETScarboroughFair.8.desc
	picture = GFX_evt_courtiers_looking_scandalized

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = diligent
		}
		modifier = {
			factor = 0.8
			trait = slothful
		}
		modifier = {
			factor = 1.2
			trait = trusting
		}
		modifier = {
			factor = 0.8
			trait = paranoid
		}
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = gluttonous
		}
		modifier = {
			factor = 0.8
			trait = temperate
		}
		#modifier = {
		#	factor = 1.2
		#	trait = absentminded
		#}
		#modifier = {
		#	factor = 0.8
		#	trait = perceptive
		#}
	}

	option = {#yes
		name = VIETScarboroughFair.8.a
		add_character_modifier = {
			name = VIET_awkward_encounter_public
			duration = 300
		}
	}
}

# growing older
character_event = {
	id = VIETScarboroughFair.9
	desc = VIETScarboroughFair.9.desc
	picture = GFX_evt_shaman_social_advice

	is_triggered_only = yes

	#min_age = 16
	min_age = 45
	only_rulers = yes
	capable_only = yes
	prisoner = no

	trigger = {
		#in_command = no
		OR = {
			trait = ambitious
			trait = humble
			trait = cynical
			trait = depressed
			trait = erudite
			trait = stressed
			trait = envious
		}
		NOT = { trait = content }
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = humble
		}
		modifier = {
			factor = 0.8
			trait = proud
		}
		modifier = {
			factor = 1.2
			trait = trusting
		}
		modifier = {
			factor = 0.8
			trait = paranoid
		}
		modifier = {
			factor = 1.2
			trait = shy
		}
		modifier = {
			factor = 0.8
			trait = gregarious
		}
		modifier = {
			factor = 1.2
			NOT = { health = 4 }
		}
		modifier = {
			factor = 0.8
			health = 6
		}
	}

	option = {#yes
		name = VIETScarboroughFair.9.a
		piety = 1
		if = {
			limit = {
				NOT = { trait = depressed }
			}
			random = {
				add_trait = depressed
				chance = 10
			}
		}
	}
}

# who cut the cheese?
character_event = {
	id = VIETScarboroughFair.10
	desc = VIETScarboroughFair.10.desc
	picture = GFX_evt_courtiers_looking_scandalized

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no

	trigger = {
		in_command = no
		has_game_rule = {
			name = VIET_events_rules
			value = silly
		}		
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = humble
		}
		modifier = {
			factor = 0.8
			trait = proud
		}
		modifier = {
			factor = 1.2
			trait = trusting
		}
		modifier = {
			factor = 0.8
			trait = paranoid
		}
		modifier = {
			factor = 1.2
			trait = shy
		}
		modifier = {
			factor = 0.8
			trait = gregarious
		}
		#modifier = {
		#	factor = 1.2
		#	trait = perceptive
		#}
		#modifier = {
		#	factor = 0.8
		#	trait = absentminded
		#}
		modifier = {
			factor = 1.2
			trait = diligent
		}
		modifier = {
			factor = 0.8
			trait = slothful
		}
		modifier = {
			factor = 1.2
			trait = ambitious
		}
		modifier = {
			factor = 0.8
			trait = content
		}
	}

	option = {#yes
		name = VIETScarboroughFair.10.a
		character_event = { id = VIETScarboroughFair.11 tooltip = VIETScarboroughFair.11.tooltip }
	}
}

# who cut the cheese?
character_event = {
	id = VIETScarboroughFair.11
	desc = VIETScarboroughFair.11.desc
	picture = GFX_evt_VIET_food

	is_triggered_only = yes

	option = {#yes
		name = VIETScarboroughFair.11.a
		prestige = 1
	}
}

# Killer joke
character_event = {
	id = VIETScarboroughFair.12
	desc = VIETScarboroughFair.12.desc
	picture = GFX_evt_feast

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no

	trigger = {
		in_command = no
		any_courtier = {
			NOT = { trait = incapable }
			trait = gregarious
			in_command = no
			is_abroad = no
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = trusting
		}
		modifier = {
			factor = 0.8
			trait = paranoid
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = lustful
		}
		modifier = {
			factor = 0.8
			trait = chaste
		}
		modifier = {
			factor = 1.2
			trait = kind
		}
		modifier = {
			factor = 0.8
			trait = envious
		}
	}

	option = {#yes
		name = VIETScarboroughFair.12.a
		random_courtier = {
			limit = {
				NOT = { trait = incapable }
				trait = gregarious
				in_command = no
				is_abroad = no
			}
			reverse_opinion = {
				modifier = good_conversation
				who = ROOT
				years = 1
			}
		}
	}
}

# Sunlight
character_event = {
	id = VIETScarboroughFair.13
	desc = VIETScarboroughFair.13.desc
	picture = GFX_evt_apollo_sun

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no

	trigger = {
		in_command = no
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = zealous
		}
		modifier = {
			factor = 0.8
			trait = cynical
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = gardener
		}
		modifier = {
			factor = 0.8
			trait = scholar
		}
		modifier = {
			factor = 1.2
			trait = kind
		}
		modifier = {
			factor = 0.8
			trait = envious
		}
	}

	option = {#yes
		name = VIETScarboroughFair.13.a
		piety = 1
		if = {
			limit = {
				trait = stressed
			}
			random = {
				remove_trait = stressed
				chance = 15
			}
		}
		if = {
			limit = {
				trait = depressed
			}
			random = {
				remove_trait = depressed
				chance = 15
			}
		}
	}
}

# scumbag brain
character_event = {
	id = VIETScarboroughFair.14
	desc = VIETScarboroughFair.14.desc
	picture = GFX_evt_bad_news

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no

	#trigger = {
		#in_command = no
	#}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = shy
		}
		modifier = {
			factor = 0.8
			trait = gregarious
		}
		modifier = {
			factor = 1.2
			trait = cynical
		}
		modifier = {
			factor = 0.8
			trait = zealous
		}
		modifier = {
			factor = 1.2
			trait = wroth
		}
		modifier = {
			factor = 0.8
			trait = patient
		}
		modifier = {
			factor = 1.2
			trait = honest
		}
		modifier = {
			factor = 0.8
			trait = deceitful
		}
		modifier = {
			factor = 1.2
			trait = envious
		}
		modifier = {
			factor = 0.8
			trait = kind
		}
	}

	option = {#yes
		name = VIETScarboroughFair.14.a
		prestige = -1
	}
}

# haha u die sucker - death by choking on food
character_event = {
	id = VIETScarboroughFair.15
	desc = VIETScarboroughFair.15.desc
	picture = GFX_evt_hyouka

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no

	trigger = {
		in_command = no
	}

	weight_multiplier = { #should be rare - low chance in on_actions
		days = 1
		#modifier = { 
		#	factor = 0.01
		#}
	}

	option = {#yes
		name = VIETScarboroughFair.15.a
		death = {
			death_reason = death_VIET_choking_food
		}
	}
}

# yawns
character_event = {
	id = VIETScarboroughFair.16
	desc = VIETScarboroughFair.16.desc
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no

	trigger = {
		in_command = no
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = gluttonous
		}
		modifier = {
			factor = 0.8
			trait = temperate
		}
		modifier = {
			factor = 1.2
			trait = wroth
		}
		modifier = {
			factor = 0.8
			trait = patient
		}
		modifier = {
			factor = 1.2
			trait = lustful
		}
		modifier = {
			factor = 0.8
			trait = chaste
		}
		modifier = {
			factor = 1.2
			trait = greedy
		}
		modifier = {
			factor = 0.8
			trait = charitable
		}
	}

	option = {#yes
		name = VIETScarboroughFair.16.a
		prestige = -1
		piety = 1
	}
	option = {#yes
		name = VIETScarboroughFair.16.b
		trigger = {
			NOT = { has_character_flag = VIET_yawn_learn }
		}
		random = {
			change_learning = 1
			chance = 50
		}
		set_character_flag = VIET_yawn_learn
	}
}

# Honeyed words
character_event = {
	id = VIETScarboroughFair.17
	desc = VIETScarboroughFair.17.desc
	picture = GFX_evt_emissary

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
		diplomacy = 15
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = diligent
		}
		modifier = {
			factor = 0.8
			trait = slothful
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = kind
		}
		modifier = {
			factor = 0.8
			trait = cruel
		}
	}

	option = {#yes
		name = VIETScarboroughFair.17.a
		prestige = 5
	}
}

# earworm
character_event = {
	id = VIETScarboroughFair.18
	desc = VIETScarboroughFair.18.desc
	picture = GFX_evt_feast

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = slothful
		}
		modifier = {
			factor = 0.8
			trait = diligent
		}
		modifier = {
			factor = 1.2
			trait = cynical
		}
		modifier = {
			factor = 0.8
			trait = zealous
		}
		modifier = {
			factor = 1.2
			trait = kind
		}
		modifier = {
			factor = 0.8
			trait = cruel
		}
		modifier = {
			factor = 1.2
			trait = trusting
		}
		modifier = {
			factor = 0.8
			trait = paranoid
		}
	}

	option = {#yes
		name = VIETScarboroughFair.18.a
		add_character_modifier = {
			name = VIET_good_music
			duration = 385
		}
	}
}

# coin falls out of courtier's pocket unnoticed
character_event = {
	id = VIETScarboroughFair.19
	desc = VIETScarboroughFair.19.desc
	picture = GFX_evt_castle_construction

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no

	trigger = {
		in_command = no
		any_courtier = {
			NOT = { trait = incapable }
			age = 10
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = paranoid
		}
		modifier = {
			factor = 0.8
			trait = trusting
		}
		modifier = {
			factor = 1.2
			trait = cynical
		}
		modifier = {
			factor = 0.8
			trait = zealous
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
	}

	option = {#yes
		name = VIETScarboroughFair.19.a
		random = {
			add_trait = honest
			chance = 40
		}
		random_courtier = {
			limit = {
				NOT = { trait = incapable }
				age = 10
			}
			opinion = {
				modifier = opinion_thankful
				who = ROOT
				years = 5
			}
		}
	}
	option = {#yes
		name = VIETScarboroughFair.19.b
		random = {
			add_trait = greedy
			chance = 30
		}
		if = {
			limit = {
				trait = charitable
			}
			random = {
				remove_trait = charitable
				chance = 50
			}
		}
		wealth = 1
	}
	option = {#yes
		name = VIETScarboroughFair.19.c
		random_list = {
			70 = {}
			15 = { add_trait = arbitrary }
			15 = { add_trait = slothful }
		}
	}
}

# son banging maid
character_event = {
	id = VIETScarboroughFair.20
	desc = VIETScarboroughFair.20.desc
	picture = GFX_evt_maiden

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
		any_child = {
			age = 13
			NOT = { age = 25 }
			NOT = { trait = chaste }
			NOT = { trait = celibate }
			NOT = { trait = eunuch }
			NOT = { trait = incapable }
			NOT = { has_ugly_trait_trigger = yes }
			is_ill = no									
			is_married = no
			has_lover = no
			ai = yes
			is_female = no
			is_abroad = no
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = lustful
		}
		modifier = {
			factor = 0.8
			trait = chaste
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = paranoid
		}
		modifier = {
			factor = 0.8
			trait = trusting
		}
	}

	option = {#yes
		name = VIETScarboroughFair.20.a
		add_character_modifier = {
			name = VIET_feeling_sexy
			duration = 250
		}
		random_child = {
			limit = {
				age = 13
				NOT = { age = 25 }
				NOT = { trait = chaste }
				NOT = { trait = celibate }
				NOT = { trait = eunuch }
				NOT = { trait = incapable }
				NOT = { has_ugly_trait_trigger = yes }
				is_ill = no									
				is_married = no
				has_lover = no
				ai = yes
				is_female = no
				is_abroad = no
			}
			add_character_modifier = {
				name = VIET_loves_cute_maids
				duration = 666
			}
		}
	}
	option = {#yes
		name = VIETScarboroughFair.20.b
		add_character_modifier = {
			name = VIET_feeling_sexy
			duration = 666
		}
		random_child = {
			limit = {
				age = 13
				NOT = { age = 25 }
				NOT = { trait = chaste }
				NOT = { trait = celibate }
				NOT = { trait = eunuch }
				NOT = { trait = incapable }
				NOT = { has_ugly_trait_trigger = yes }
				is_ill = no									
				is_married = no
				has_lover = no
				ai = yes
				is_female = no
				is_abroad = no
			}
			add_character_modifier = {
				name = VIET_loves_cute_maids
				duration = 666
			}
		}
	}
}

# pretty maids
character_event = {
	id = VIETScarboroughFair.21
	desc = VIETScarboroughFair.21.desc
	picture = GFX_evt_homage_hf

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	only_men = yes
	war = no

	trigger = {
		in_command = no
		NOT = { has_focus = focus_seduction }
		NOT = { trait = homosexual }
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = chaste
		}
		modifier = {
			factor = 0.8
			trait = lustful
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = kind
		}
		modifier = {
			factor = 0.8
			trait = cruel
		}
		modifier = {
			factor = 1.2
			trait = just
		}
		modifier = {
			factor = 0.8
			trait = arbitrary
		}
		modifier = {
			factor = 0.4
			is_married = yes
			NOT = { trait = lustful }
		}
		modifier = {
			factor = 0.8
			age = 50
		}
	}

	option = {#yes
		name = VIETScarboroughFair.21.a
		piety = 5
		random = {
			add_trait = chaste
			chance = 25
		}
		if = {
			limit = {
				trait = lustful
			}
			random = {
				remove_trait = lustful
				chance = 25
			}
		}
		add_character_modifier = {
			name = VIET_loves_cute_maids
			duration = 582
		}
	}
	option = {#yes
		name = VIETScarboroughFair.21.b
		random = {
			add_trait = proud
			chance = 40
		}
		if = {
			limit = {
				trait = lustful
			}
			random = {
				remove_trait = lustful
				chance = 10
			}
		}
		add_character_modifier = {
			name = VIET_loves_cute_maids
			duration = 582
		}
	}
	option = {#yes
		name = VIETScarboroughFair.21.c
		random = {
			add_trait = kind
			chance = 50
		}
		random = {
			add_trait = humble
			chance = 25
		}
		if = {
			limit = {
				trait = lustful
			}
			random = {
				remove_trait = lustful
				chance = 66
			}
		}
		add_character_modifier = {
			name = VIET_loves_cute_maids
			duration = 582
		}
	}
}


# execution of innocent man
character_event = {
	id = VIETScarboroughFair.22
	desc = VIETScarboroughFair.22.desc
	picture = GFX_evt_beheading

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = diligent
		}
		modifier = {
			factor = 0.8
			trait = slothful
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = kind
		}
		modifier = {
			factor = 0.8
			trait = cruel
		}
		modifier = {
			factor = 1.2
			trait = just
		}
		modifier = {
			factor = 0.8
			trait = arbitrary
		}
		modifier = {
			factor = 1.2
			trait = ambitious
		}
		modifier = {
			factor = 0.8
			trait = content
		}
	}

	option = {#yes
		name = VIETScarboroughFair.22.a
		add_character_modifier = {
			name = VIET_leader_angered_peasants
			duration = 911
		}
		if = {
			limit = {
				religion_group = muslim
			}
			decadence = 1
		}
	}
}

# new book
character_event = {
	id = VIETScarboroughFair.23
	desc = VIETScarboroughFair.23.desc
	picture = GFX_evt_library

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
		OR = {
			trait = scholar
			learning = 12
			has_focus = focus_theology
			has_focus = focus_scholarship
			trait = erudite
			is_smart_trigger = yes
			trait = mystic
			trait = theologian
		}
		is_dumb_trigger = no
		learning = 8
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = slothful
		}
		modifier = {
			factor = 0.8
			trait = diligent
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = shy
		}
		modifier = {
			factor = 0.8
			trait = gregarious
		}
		modifier = {
			factor = 1.2
			trait = lustful
		}
		modifier = {
			factor = 0.8
			trait = chaste
		}
	}

	option = {#yes
		name = VIETScarboroughFair.23.a
		add_character_modifier = {
			name = VIET_navel_gazing
			duration = 365
		}
	}
}

# corrupt tax officials?
character_event = {
	id = VIETScarboroughFair.24
	desc = VIETScarboroughFair.24.desc
	picture = GFX_evt_peasants

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no

	trigger = {
		in_command = no
		NOT = { trait = arbitrary }
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = diligent
		}
		modifier = {
			factor = 0.8
			trait = slothful
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = just
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = honest
		}
		modifier = {
			factor = 0.8
			trait = deceitful
		}
		modifier = {
			factor = 1.2
			NOT = { intrigue = 9 }
		}
		modifier = {
			factor = 0.8
			intrigue = 16
		}
	}

	option = {#yes
		name = VIETScarboroughFair.24.a
		add_character_modifier = {
			name = VIET_leader_who_cares
			duration = 666
		}
		prestige = -10
		random_list = {
			20 = { add_trait = arbitrary }
			20 = { add_trait = paranoid }
			20 = { add_trait = diligent }
			40 = { }
		}
		if = {
			limit = {
				religion_group = muslim
			}
			random = {
				decadence = -1
				chance = 25
			}
		}
	}
	option = {#yes
		name = VIETScarboroughFair.24.b
		add_character_modifier = {
			name = VIET_leader_angered_peasants
			duration = 1080
		}
		random_list = {
			20 = { add_trait = patient }
			30 = { add_trait = proud }
			50 = { }
		}
		if = {
			limit = {
				religion_group = muslim
			}
			random = {
				decadence = 1
				chance = 25
			}
		}
	}
}


# stop with the cock events, baka cybr-san!
character_event = {
	id = VIETScarboroughFair.25
	desc = VIETScarboroughFair.25.desc
	picture = GFX_evt_VIET_food

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
		any_courtier = {
			is_adult = yes
			NOT = { trait = incapable }
			NOT = { trait = zealous }
			trait = gregarious
		}
		has_game_rule = {
			name = VIET_events_rules
			value = silly
		}	
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = shy
		}
		modifier = {
			factor = 0.8
			trait = gregarious
		}
		modifier = {
			factor = 1.2
			trait = zealous
		}
		modifier = {
			factor = 0.8
			trait = just
		}
		modifier = {
			factor = 1.2
			trait = wroth
		}
		modifier = {
			factor = 0.8
			trait = patient
		}
		modifier = {
			factor = 1.2
			trait = envious
		}
		modifier = {
			factor = 0.8
			trait = kind
		}
		modifier = {
			factor = 1.2
			trait = temperate
		}
		modifier = {
			factor = 0.8
			trait = gluttonous
		}
	}

	option = {#yes
		name = VIETScarboroughFair.25.a
		any_courtier = {
			limit = {
				is_adult = yes
				NOT = { trait = incapable }
				NOT = { trait = zealous }
				trait = gregarious
			}
			reverse_opinion = {
				modifier = opinion_amused
				who = ROOT
				years = 1
			}
		}
		prestige = -5
		add_character_modifier = {
			name = VIET_pun_lover
			duration = 777
		}
	}
	option = {#yes
		name = VIETScarboroughFair.25.b
		trigger = {
			NOT = { trait = cynical }
		}
		any_courtier = {
			limit = {
				is_adult = yes
				NOT = { trait = incapable }
				NOT = { trait = zealous }
				trait = gregarious
			}
			opinion = {
				modifier = fun_killer
				who = ROOT
				years = 2
			}
		}
		piety = 5
		add_character_modifier = {
			name = VIET_annoyed_ruler
			duration = 555
		}
	}
	option = {#yes
		name = VIETScarboroughFair.25.c
		any_courtier = {
			limit = {
				is_adult = yes
				NOT = { trait = incapable }
				NOT = { trait = zealous }
				trait = gregarious
			}
			opinion = {
				modifier = fun_killer
				who = ROOT
				years = 3
			}
		}
		prestige = 5
		add_character_modifier = {
			name = VIET_annoyed_ruler
			duration = 555
		}
	}
	option = {#yes
		name = VIETScarboroughFair.25.d
	}
}


# baklava
character_event = {
	id = VIETScarboroughFair.26
	desc = VIETScarboroughFair.26.desc
	picture = GFX_evt_baklava

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = gluttonous
		}
		modifier = {
			factor = 0.8
			trait = temperate
		}
		modifier = {
			factor = 1.2
			prestige = 1500
		}
		modifier = {
			factor = 0.8
			NOT = { prestige = 500 }
		}
		modifier = {
			factor = 1.2
			trait = kind
		}
		modifier = {
			factor = 0.8
			trait = cruel
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
	}

	option = {#yes
		name = VIETScarboroughFair.26.a
		add_character_modifier = {
			name = VIET_eating_baklava
			duration = 200
		}
	}
}


# itchy head
character_event = {
	id = VIETScarboroughFair.27
	desc = VIETScarboroughFair.27.desc
	picture = GFX_evt_tuscan_country

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	#trigger = {
	#	in_command = no
	#}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = shy
		}
		modifier = {
			factor = 0.8
			trait = gregarious
		}
		modifier = {
			factor = 1.2
			trait = gluttonous
		}
		modifier = {
			factor = 0.8
			trait = temperate
		}
		modifier = {
			factor = 1.2
			trait = wroth
		}
		modifier = {
			factor = 0.8
			trait = patient
		}
		modifier = {
			factor = 1.2
			trait = paranoid
		}
		modifier = {
			factor = 0.8
			trait = trusting
		}
	}

	option = {#yes
		name = VIETScarboroughFair.27.a
		prestige = -1
	}
	option = {#yes
		name = VIETScarboroughFair.27.b
		prestige = -1
	}
}


# abacus
character_event = {
	id = VIETScarboroughFair.28
	desc = VIETScarboroughFair.28.desc
	picture = GFX_evt_busy_trading_dock_republic

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
		NOT = { has_artifact = VIET_abacus }
	}

	weight_multiplier = {
		days = 1			
		modifier = {
			factor = 0.3
			viet_artifact_loss_three_flags = yes
		}				
		modifier = {
			factor = 0.3
			any_artifact = {
				has_artifact_flag = VIET_clutter_flag
			}
		}	
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = gluttonous
		}
		modifier = {
			factor = 0.8
			trait = temperate
		}
		modifier = {
			factor = 1.2
			trait = ambitious
		}
		modifier = {
			factor = 0.8
			trait = content
		}
		modifier = {
			factor = 1.2
			trait = diligent
		}
		modifier = {
			factor = 0.8
			trait = slothful
		}
		modifier = {
			factor = 1.2
			trait = greedy
		}
		modifier = {
			factor = 0.8
			NOT = { learning = 9 }
		}
	}

	option = {#yes
		name = VIETScarboroughFair.28.a
		add_artifact = VIET_abacus
	}
	option = {#yes
		name = VIETScarboroughFair.28.b
		random = {
			add_trait = proud
			chance = 30
		}
	}
}


# New Amsterdam
province_event = {
	id = VIETScarboroughFair.29
	desc = VIETScarboroughFair.29.desc
	picture = GFX_evt_brothel

	trigger = {
		NOT = { has_province_modifier = VIET_province_good_whores }
		owner = {
			is_nomadic = no
		}
	}

	mean_time_to_happen = {
		months = 10000
		modifier = {
			OR = {
				culture = tocharian
				culture = saka
				port = yes
			}
			factor = 0.95
		}
	}

	option = {#yes
		name = VIETScarboroughFair.29.a
		trigger = {
			owner = {
				age = 14
				OR = {
					AND = {
						is_female = no
						NOT = { trait = homosexual }
					}
					AND = {
						is_female = yes
						trait = homosexual
					}
				}
				NOT = { trait = eunuch }
				NOT = { trait = celibate }
				NOT = { trait = chaste }			
			}
		}
		owner = {
			add_character_modifier = {
				name = lustful_ruler
				duration = 365
			}
			piety = -5
		}
		add_province_modifier = {
			name = VIET_province_good_whores
			duration = 8000
		}
	}
	option = {#yes
		name = VIETScarboroughFair.29.b
		add_province_modifier = {
			name = VIET_province_good_whores
			duration = 8000
		}
	}
	option = {#yes
		name = VIETScarboroughFair.29.c
		owner = {
			piety = 5
			add_character_modifier = {
				name = the_prude
				duration = 365
			}
		}
		add_province_modifier = {
			name = VIET_province_good_whores
			duration = 8000
		}
	}
}


# ancient shrine discovered
province_event = {
	id = VIETScarboroughFair.30
	desc = VIETScarboroughFair.30.desc
	picture = GFX_evt_ancient_cairn

	trigger = {
		num_of_settlements = 2
	}

	mean_time_to_happen = {
		months = 10000
	}

	option = {#yes
		name = VIETScarboroughFair.30.a
		owner = {
			prestige = 15
		}
		add_province_modifier = {
			name = VIET_province_using_old_stones
			duration = 1250
		}
	}
	option = {#yes
		name = VIETScarboroughFair.30.b
		owner = {
			piety = 40
		}
	}
	option = {#yes
		name = VIETScarboroughFair.30.c
		owner = {
			piety = 20
			prestige = 20
		}
	}
	option = {#yes
		name = VIETScarboroughFair.30.d
		owner = {
			add_character_modifier = {
				name = VIET_leader_who_cares
				duration = 1000
			}
		}
		add_province_modifier = {
			name = VIET_province_using_old_stones
			duration = 200
		}
	}
}


# rapist merchant
province_event = {
	id = VIETScarboroughFair.31
	desc = VIETScarboroughFair.31.desc
	picture = GFX_evt_peasants

	trigger = {
		NOT = { has_province_flag = VIET_rapist }
	}

	mean_time_to_happen = {
		months = 10000
	}

	immediate = {
		set_province_flag = VIET_rapist
	}

	option = {#yes
		name = VIETScarboroughFair.31.a
		add_province_modifier = {
			name = VIET_leader_angered_peasants
			duration = 1000
		}
		owner = {
			random_list = {
				25 = { add_trait = arbitrary }
				25 = { add_trait = proud }
				25 = { add_trait = cruel }
				25 = { }
			}
		}

	}
	option = {#yes
		name = VIETScarboroughFair.31.b
		owner = {
			add_character_modifier = {
				name = VIET_leader_who_cares
				duration = 1000
			}
			wealth = 30
			random_list = {
				33 = { add_trait = just }
				66 = { }
			}
		}
	}
	option = {#yes
		name = VIETScarboroughFair.31.c
		owner = {
			add_character_modifier = {
				name = VIET_leader_who_cares
				duration = 1000
			}
			random_list = {
				20 = { add_trait = just }
				20 = { add_trait = zealous }
				10 = { add_trait = wroth }
				50 = { }
			}
		}
	}
	option = {#yes
		name = VIETScarboroughFair.31.d
		add_province_modifier = {
			name = VIET_leader_angered_peasants
			duration = 1000
		}
		owner = {
			random = {
				add_trait = greedy
				chance = 50
			}
			if = {
				limit = {
					trait = just
				}
				remove_trait = just
			}
			wealth = 50
		}
		custom_tooltip = { text = VIET_bribed_jerk }
	}
}



# Reishi mushrooms
character_event = {
	id = VIETScarboroughFair.32
	desc = VIETScarboroughFair.32.desc
	picture = GFX_evt_small_town_chinese_group

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
		#NOT = { has_alternate_start_parameter = { key = religion_names value = random } }
		NOT = { has_alternate_start_parameter = { key = culture_names value = random } }
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = diligent
		}
		modifier = {
			factor = 0.8
			trait = slothful
		}
		modifier = {
			factor = 1.2
			trait = kind
		}
		modifier = {
			factor = 0.8
			trait = envious
		}
		modifier = {
			factor = 0.3
			capital_scope = {
				NOR = {
					region = world_india
					region = world_steppe_tarim
					region = world_steppe_east 
					region = world_persia 
				}
			}
		}
	}

	option = {#yes
		name = VIETScarboroughFair.32.a
		custom_tooltip = { text = VIET_reishi_mushroom_health }
		hidden_tooltip = {
			random_list = {
				30 = { health = 0.1 }
				30 = { health = 0.2 }
				15 = { health = 0.5 }
				10 = { health = 1 }
				10 = { health = 1.5 }
				5 = { health = 2 }
			}
		}
	}
	option = {#yes
		name = VIETScarboroughFair.32.b
		add_character_modifier = {
			name = VIET_skeptical_ruler
			duration = 365
		}
	}
}


# Meeting war widows
character_event = {
	id = VIETScarboroughFair.33
	desc = VIETScarboroughFair.33.desc
	picture = GFX_evt_travel

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = yes

	trigger = {
		in_command = no
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = diligent
		}
		modifier = {
			factor = 0.8
			trait = slothful
		}
		modifier = {
			factor = 1.2
			trait = kind
		}
		modifier = {
			factor = 0.8
			trait = envious
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = honest
		}
		modifier = {
			factor = 0.8
			trait = deceitful
		}
	}

	option = {#yes
		name = VIETScarboroughFair.33.a
		prestige = 2
	}
	option = {#yes
		name = VIETScarboroughFair.33.b
		trigger = {
			NOT = { trait = kind }
			NOT = { trait = patient }
			NOT = { trait = humble }
			NOT = { trait = trusting }
		}
		random_list = {
			30 = { add_trait = proud }
			30 = { add_trait = cruel }
			40 = { }
		}
	}
	option = {#yes
		name = VIETScarboroughFair.33.c
		random_list = {
			25 = { add_trait = arbitrary }
			25 = { add_trait = proud }
			50 = { }
		}
	}
	option = {#yes
		name = VIETScarboroughFair.33.d
		wealth = -25
		random_list = {
			40 = { add_trait = charitable }
			30 = { add_trait = kind }
			30 = { }
		}
	}
}


# enemy spy!
character_event = {
	id = VIETScarboroughFair.34
	desc = VIETScarboroughFair.34.desc
	picture = GFX_evt_shadow

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = yes

	trigger = {
		NOT = { has_character_modifier = VIET_war_ideas }
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			intrigue = 14
		}
		modifier = {
			factor = 0.8
			NOT = { intrigue = 8 }
		}
		modifier = {
			factor = 1.2
			trait = diligent
		}
		modifier = {
			factor = 0.8
			trait = slothful
		}
		modifier = {
			factor = 1.2
			trait = deceitful
		}
		modifier = {
			factor = 0.8
			trait = honest
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = temperate
		}
		modifier = {
			factor = 0.8
			trait = gluttonous
		}
	}

	option = {#yes
		name = VIETScarboroughFair.34.a
		add_character_modifier = {
			name = VIET_war_ideas
			duration = 730
		}
	}
}


# Battle with youth - battle event removed for now
# VIETScarboroughFair.35

# Arrow almost hits! - battle event removed for now
# VIETScarboroughFair.36

# Tripped again  - battle event removed for now
# VIETScarboroughFair.37

# Don't throw swords - battle event removed for now
# VIETScarboroughFair.38

# Sword breaks -  battle event removed for now
# VIETScarboroughFair.39

# Soap/cosmetics from dates
character_event = {
	id = VIETScarboroughFair.40
	desc = VIETScarboroughFair.40.desc
	picture = GFX_evt_moorish_decor

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
		NOT = {
			capital_scope = {
				region = world_middle_east
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = proud
		}
		modifier = {
			factor = 0.8
			trait = humble
		}
		modifier = {
			factor = 1.2
			trait = kind
		}
		modifier = {
			factor = 0.8
			trait = envious
		}
		modifier = {
			factor = 1.2
			trait = lustful
		}
		modifier = {
			factor = 0.8
			trait = chaste
		}
		modifier = {
			factor = 1.2
			trait = greedy
		}
		modifier = {
			factor = 0.8
			trait = charitable
		}
	}

	option = {#yes
		name = VIETScarboroughFair.40.a
		add_character_modifier = {
			name = VIET_new_expensive_cosmetics
			duration = 777
		}
		if = {
			limit = {
				religion_group = muslim
			}
			random = {
				decadence = 1
				chance = 25
			}
		}
	}
	option = {#yes
		name = VIETScarboroughFair.40.b
		add_character_modifier = {
			name = the_prude
			duration = 365
		}
		if = {
			limit = {
				religion_group = muslim
			}
			random = {
				decadence = -1
				chance = 25
			}
		}
	}
	option = {#yes
		name = VIETScarboroughFair.40.c
		trigger = {
			any_courtier = {
				NOT = { trait = incapable }
				OR = {
					is_female = yes
					trait = proud
					trait = fair
					trait = gregarious
					trait = lustful
					trait = trusting
				}
			}
		}
		if = {
			limit = {
				trait = greedy
			}
			random = {
				remove_trait = greedy
				chance = 20
			}
		}
		random_courtier = {
			limit = {
				NOT = { trait = incapable }
				OR = {
					is_female = yes
					trait = proud
					trait = fair
					trait = gregarious
					trait = lustful
					trait = trusting
				}
			}
			opinion = {
				modifier = VIET_opinion_great_gift
				who = ROOT
				years = 2
			}
			add_character_modifier = {
				name = VIET_new_expensive_cosmetics
				duration = 777
			}
		}
	}
}


# Creepy horse
character_event = {
	id = VIETScarboroughFair.41
	desc = VIETScarboroughFair.41.desc
	picture = GFX_evt_journey_to_spirit_world_tengri_pagan

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	#war = no

	#trigger = {
		#in_command = no
	#}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = proud
		}
		modifier = {
			factor = 0.8
			trait = humble
		}
		modifier = {
			factor = 1.2
			trait = craven
		}
		modifier = {
			factor = 0.8
			trait = brave
		}
		modifier = {
			factor = 1.2
			trait = arbitrary
		}
		modifier = {
			factor = 0.8
			trait = just
		}
		modifier = {
			factor = 1.2
			trait = paranoid
		}
		modifier = {
			factor = 0.8
			trait = trusting
		}
	}

	option = {#yes
		name = VIETScarboroughFair.41.a
		prestige = -1
		random_list = {
			9 = { add_trait = paranoid }
			1 = { add_trait = lunatic }
			90 = {}
		}
	}
}


# Gifts of Amber
character_event = {
	id = VIETScarboroughFair.42
	desc = VIETScarboroughFair.42.desc
	picture = GFX_evt_skyrim_forest

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = shy
		}
		modifier = {
			factor = 0.8
			trait = gregarious
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = proud
		}
		modifier = {
			factor = 0.8
			trait = humble
		}
		modifier = {
			factor = 1.2
			trait = deceitful
		}
		modifier = {
			factor = 0.8
			trait = honest
		}
		modifier = {
			factor = 1.2
			trait = paranoid
		}
		modifier = {
			factor = 0.8
			trait = trusting
		}
	}

	option = {#yes
		name = VIETScarboroughFair.42.a
		prestige = 5
	}
	option = {#yes
		name = VIETScarboroughFair.42.b
		add_character_modifier = {
			name = VIET_childlike_wonder
			duration = 365
		}
	}
	option = {#yes
		name = VIETScarboroughFair.42.c
		tooltip_info = learning
		trigger = {
			learning = 13
		}
		random_list = {
			80 = {
				add_character_modifier = {
					name = VIET_im_curious
					duration = 365
				}
			}
			20 = {
				change_learning = 1
			}
		}
	}
}

# Cubeb
character_event = {
	id = VIETScarboroughFair.43
	desc = VIETScarboroughFair.43.desc
	picture = GFX_evt_herbs_and_spices

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
		NOT = {
			capital_scope = {
				region = world_india
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = shy
		}
		modifier = {
			factor = 0.8
			trait = gregarious
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = proud
		}
		modifier = {
			factor = 0.8
			trait = humble
		}
		modifier = {
			factor = 1.2
			trait = deceitful
		}
		modifier = {
			factor = 0.8
			trait = honest
		}
		modifier = {
			factor = 1.2
			trait = paranoid
		}
		modifier = {
			factor = 0.8
			trait = trusting
		}
	}

	option = {#yes
		name = VIETScarboroughFair.43.a
		prestige = 3
		random = {
			fertility = 0.1
			chance = 25
		}
	}
	option = {#yes
		name = VIETScarboroughFair.43.b
		prestige = 3
		random = {
			piety = 25
			chance = 25
		}
	}
}

# Courtesan woot woot
character_event = {
	id = VIETScarboroughFair.44
	desc = VIETScarboroughFair.44.desc
	picture = GFX_evt_scarborough_fair

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	only_men = yes
	war = no

	trigger = {
		in_command = no
		NOT = { trait = celibate }
		NOT = { trait = chaste }
		NOT = { trait = eunuch }
		has_lover = no
		wealth = 100
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = lustful
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = proud
		}
		modifier = {
			factor = 0.8
			trait = humble
		}
		modifier = {
			factor = 1.2
			trait = gluttonous
		}
		modifier = {
			factor = 0.8
			trait = temperate
		}
		modifier = {
			factor = 1.2
			trait = cynical
		}
		modifier = {
			factor = 0.8
			trait = zealous
		}
	}

	option = {#yes
		name = VIETScarboroughFair.44.a
		wealth = -20
		add_character_modifier = {
			name = VIET_good_exercise
			duration = 365
		}
		if = {
			limit = {
				religion_group = muslim
			}
			decadence = 2
		}
	}
}


# Perfume vanity
character_event = {
	id = VIETScarboroughFair.45
	desc = VIETScarboroughFair.45.desc
	picture = GFX_evt_moorish_decor

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no
	religion_group = muslim

	trigger = {
		in_command = no
		any_courtier = {
			religion_group = muslim
			NOT = { trait = incapable }
			trait = proud
		}		
		NOT = { has_alternate_start_parameter = { key = religion_names value = random } }
		#NOT = { has_alternate_start_parameter = { key = culture_names value = random } }
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = lustful
		}
		modifier = {
			factor = 0.8
			trait = chaste
		}
		modifier = {
			factor = 1.2
			trait = proud
		}
		modifier = {
			factor = 0.8
			trait = humble
		}
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = zealous
		}
		modifier = {
			factor = 0.8
			trait = cynical
		}
		modifier = {
			factor = 1.2
			trait = content
		}
		modifier = {
			factor = 0.8
			trait = ambitious
		}
	}

	option = {#yes
		name = VIETScarboroughFair.45.a
		random_courtier = {
			limit = {
				religion_group = muslim
				NOT = { trait = incapable }
				trait = proud
			}
			reverse_opinion = {
				modifier = opinion_annoyed
				who = ROOT
				years = 1
			}
		}
		piety = 4
		if = {
			limit = {
				trait = proud
			}
			random = {
				remove_trait = proud
				chance = 30
			}
		}
		if = {
			limit = {
				religion_group = muslim
			}
			random = {
				decadence = 1
				chance = 40
			}
		}
	}

	option = {#yes
		name = VIETScarboroughFair.45.b
		piety = 2
		random_list = {
			35 = { add_trait = humble }
			15 = { add_trait = content }
			50 = { }
		}
		if = {
			limit = {
				religion_group = muslim
			}
			random = {
				decadence = -1
				chance = 20
			}
		}
	}
}


# Tanned skin
character_event = {
	id = VIETScarboroughFair.46
	desc = VIETScarboroughFair.46.desc
	picture = GFX_evt_maiden

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	war = no

	trigger = {
		in_command = no
		#NOT = { has_alternate_start_parameter = { key = religion_names value = random } }
		NOT = { has_alternate_start_parameter = { key = culture_names value = random } }
		#Doesn't make sense for Africans
		NOR = { 
			culture_group = bantu
			culture_group = nilo_saharan
			culture_group = congo_nigerian
			culture_group = ethiopic
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.2
			trait = lustful
		}
		modifier = {
			factor = 0.8
			trait = chaste
		}
		modifier = {
			factor = 1.2
			trait = humble
		}
		modifier = {
			factor = 0.8
			trait = proud
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = cynical
		}
		modifier = {
			factor = 0.8
			trait = zealous
		}
	}

	option = {#yes
		name = VIETScarboroughFair.46.a
		prestige = 3
	}
	option = {#yes
		name = VIETScarboroughFair.46.b
		random_list = {
			75 = {
				add_character_modifier = {
					name = the_prude
					duration = 365
				}
			}
			20 = {
				add_trait = humble
			}
			5 = {
				add_trait = zealous
			}
		}
	}
	option = {#yes
		name = VIETScarboroughFair.46.c
		random_list = {
			10 = { add_trait = kind }
			10 = { add_trait = humble }
			10 = { add_trait = content }
			70 = { }
		}
	}
	option = {#yes
		name = VIETScarboroughFair.46.d
		add_character_modifier = {
			name = VIET_deviant_opinion
			duration = 888
		}
	}
}




# Incestuous runaways
province_event = {
	id = VIETScarboroughFair.47
	desc = VIETScarboroughFair.47.desc
	picture = GFX_evt_scarborough_fair

	trigger = { #not sure how to check for pagan religions with incest
		NOT = { has_province_modifier = VIET_province_incest_couple }
		NOT = { religion_group = zoroastrian_group }
		owner = {
			NOT = { religion_group = zoroastrian_group }
			NOT = { has_religion_feature = religion_holy_family }
		}
	}

	mean_time_to_happen = {
		months = 15000
	}

	option = {#yes
		name = VIETScarboroughFair.47.a
		owner = {
			piety = 5
		}
		add_province_modifier = {
			name = VIET_province_incest_couple
			duration = 3000
		}
	}
	option = {#yes
		name = VIETScarboroughFair.47.b
		owner = {
			random_list = {
				30 = { add_trait = kind }
				20 = { add_trait = patient }
				10 = { add_trait = content }
				40 = { }
			}
			piety = -5
			add_character_modifier = {
				name = VIET_deviant_opinion
				duration = 730
			}
		}
		add_province_modifier = {
			name = VIET_province_incest_couple
			duration = 3000
		}
	}
	option = {#yes
		name = VIETScarboroughFair.47.c
		owner = {
			random = {
				add_trait = lustful
				chance = 15
			}
			piety = -5
			add_character_modifier = {
				name = VIET_feeling_sexy
				duration = 365
			}
			add_character_modifier = {
				name = VIET_deviant_opinion
				duration = 730
			}
		}
		add_province_modifier = {
			name = VIET_province_incest_couple
			duration = 3000
		}
	}
}




# SCARBOROVGH FAIR - ruler hears of this great song
character_event = {
	id = VIETScarboroughFair.48
	desc = VIETScarboroughFair.48.desc
	picture = GFX_evt_scarborough_fair

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	ai = no
	war = no

	trigger = {
		in_command = no
		OR = {
			culture_group = west_germanic
			#culture_group = gallic
			culture_group = latin
			culture_group = celtic
			culture_group = north_germanic
			culture_group = central_germanic
			culture = norman
			any_realm_province = {
				OR = {
					culture_group = west_germanic
					#culture_group = gallic
					culture_group = latin
					culture_group = celtic
					culture_group = north_germanic
					culture_group = central_germanic
					culture = norman
					province_id = 57				
				}
			}
			has_alternate_start_parameter = { key = culture_names value = random }	
		}
		NOT = { has_global_flag = VIET_Scarborough_Fair_blessing_given }
		#Only someone enlightened may hear of Scarborough Fair
		OR = {
			trait = kind
			trait = patient
			trait = chaste
			trait = charitable
			trait = humble
			trait = temperate
			trait = diligent
			trait = just
			trait = erudite
		}
		NOT = { trait = envious }
		NOT = { trait = wroth }
		NOT = { trait = lustful }
		NOT = { trait = greedy }
		NOT = { trait = proud }
		NOT = { trait = gluttonous }
		NOT = { trait = slothful }
		NOT = { trait = arbitrary }
		NOT = { trait = cruel }
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = poet
		}
		modifier = {
			factor = 0.5
			NOT = {
				OR = {
					culture_group = west_germanic
					culture = norman
					culture = scottish
					culture = welsh
					any_realm_province = {
						province_id = 57
					}
				}
			}
		}
		modifier = {
			factor = 1.2
			year = 1300
		}
		modifier = {
			factor = 0.8
			NOT = { year = 1000 }
		}
	}

	option = {#yes
		name = VIETScarboroughFair.48.a
		narrative_event = { id = VIETScarboroughFair.49 tooltip = VIETScarboroughFair.49.tooltip }
	}
}



# SCARBOROVGH FAIR - ruler hears of this great song
narrative_event = {
	id = VIETScarboroughFair.49
	title = VIETScarboroughFair.49.title
	desc = VIETScarboroughFair.49.desc
	picture = GFX_evt_scarborough_fair

	is_triggered_only = yes

	option = {#yes
		name = VIETScarboroughFair.49.a
		add_character_modifier = {
			name = VIET_dislikes_hipsters
			duration = 1000
		}
		custom_tooltip = { text = VIET_Scarborough_fair_bad }
		random = { #YOU DARE DEFY THE GREAT SCARBOROUGH FAIR? SO SHALL YOU BE PUNISHED HEATHEN
			hidden_tooltip = {
				character_event = { id = 6060 }
			}
			chance = 50
		}
	}
	option = {#yes
		name = VIETScarboroughFair.49.b
		set_global_flag = VIET_Scarborough_Fair_blessing_given
		if = {
			limit = {
				religion_group = muslim
			}
			decadence = -8
		}
		add_character_modifier = {
			name = VIET_going_to_Scarborough_Fair
			duration = -1
		}
		if = {
			limit = {
				trait = stressed
			}
			remove_trait = stressed
		}
		if = {
			limit = {
				trait = depressed
			}
			remove_trait = depressed
		}
		custom_tooltip = { text = VIET_Scarborough_fair_good }
	}
}

#############################################################################
# XWEDODAH PREACHER (some dialogue based off of Heimskr from Skyrim)
#############################################################################


# Meet the preacher
character_event = {
	id = VIETScarboroughFair.100
	desc = VIETScarboroughFair.100.desc
	picture = GFX_evt_market

	is_triggered_only = yes

	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	ai = no
	war = no

	trigger = {
		in_command = no
		NOT = { has_global_flag =  VIET_xwedodah_preacher }
		religion_group = zoroastrian_group
		NOT = { has_alternate_start_parameter = { key = religion_names value = random } }
		#NOT = { has_alternate_start_parameter = { key = culture_names value = random } }
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = zealous
		}
		modifier = {
			factor = 1.2
			trait = patient
		}
		modifier = {
			factor = 0.8
			trait = wroth
		}
		modifier = {
			factor = 1.2
			trait = gregarious
		}
		modifier = {
			factor = 0.8
			trait = shy
		}
		modifier = {
			factor = 1.2
			trait = lustful
		}
		modifier = {
			factor = 0.8
			trait = chaste
		}
		modifier = {
			factor = 1.2
			trait = just
		}
		modifier = {
			factor = 0.8
			trait = arbitrary
		}
		modifier = {
			factor = 1.2
			trait = humble
		}
		modifier = {
			factor = 0.8
			trait = proud
		}
		modifier = {
			factor = 1.2
			trait = honest
		}
		modifier = {
			factor = 0.8
			trait = deceitful
		}
	}

	option = {
		name = VIETScarboroughFair.100.a
		set_global_flag =  VIET_xwedodah_preacher
		narrative_event = { id = VIETScarboroughFair.101 tooltip = VIETScarboroughFair.101.tooltip days = 3 random = 3 }
	}
}

# BE PROUD! BE JOYFUL!
narrative_event = {
	id = VIETScarboroughFair.101
	title = VIETScarboroughFair.101.title
	desc = VIETScarboroughFair.101.desc
	picture = GFX_evt_maiden

	is_triggered_only = yes

	option = {
		name = VIETScarboroughFair.101.a
		narrative_event = { id = VIETScarboroughFair.102 tooltip = VIETScarboroughFair.102.tooltip days = 3 random = 3 }
	}
}

# SO RISE UP! RISE UP, CHILDREN OF XWEDODAH!
narrative_event = {
	id = VIETScarboroughFair.102
	title = VIETScarboroughFair.102.title
	desc = VIETScarboroughFair.102.desc
	picture = GFX_evt_zoroastrian_fire

	is_triggered_only = yes

	option = {
		name = VIETScarboroughFair.102.a
		narrative_event = { id = VIETScarboroughFair.103 tooltip = VIETScarboroughFair.103.tooltip days = 3 random = 3 }
	}
}

# FOR WE ARE BUT MAGGOTS
narrative_event = {
	id = VIETScarboroughFair.103
	title = VIETScarboroughFair.103.title
	desc = VIETScarboroughFair.103.desc
	picture = GFX_evt_rainstorm

	is_triggered_only = yes

	option = {
		name = VIETScarboroughFair.103.a
		narrative_event = { id = VIETScarboroughFair.104 tooltip = VIETScarboroughFair.104.tooltip days = 3 random = 3 }
	}
}

# NEVER TURN BACK ON XWEDODAH
narrative_event = {
	id = VIETScarboroughFair.104
	title = VIETScarboroughFair.104.title
	desc = VIETScarboroughFair.104.desc
	picture = GFX_evt_holy_light_zoroastrian_group

	is_triggered_only = yes

	option = {
		name = VIETScarboroughFair.104.a
		narrative_event = { id = VIETScarboroughFair.105 tooltip = VIETScarboroughFair.105.tooltip days = 3 random = 3 }
	}
}

# UNITE IN LOVE, UNITE IN TRUTH
narrative_event = {
	id = VIETScarboroughFair.105
	title = VIETScarboroughFair.105.title
	desc = VIETScarboroughFair.105.desc
	picture = GFX_evt_hyouka

	is_triggered_only = yes

	option = {
		name = VIETScarboroughFair.105.a
		add_trait = zealous
		add_trait = honest
		add_trait = just
		create_random_priest = {
			religion = ROOT
			culture = ROOT
			dynasty = actually_culture
			female = no
			attributes = {
				diplomacy = 13
				learning = 13
			}
			trait = gregarious
			trait = zealous
			trait = honest
			trait = diligent
			trait = brave
			trait = mastermind_theologian
			trait = mystic
			#trait = powerful_voice
			trait = genius
			trait = strong
		}
		new_character = {
			piety = 400
			prestige = 200
			opinion = {
				modifier = opinion_loyal_servant
				who = ROOT
				years = 100
			}
			random_list = {  # Small chance of having some unusual memorable trait
				1 = { add_trait = blinded }
				1 = { add_trait = dwarf }
				1 = { add_trait = fair }
				#1 = { add_trait = tall }
				#1 = { add_trait = imposing }
				1 = { add_trait = maimed }
				1 = { add_trait = genius }
				1 = { add_trait = quick }
				1 = { add_trait = strong }
				50 = {}
			}
			add_character_modifier = {
				name = VIET_obsessed_with_incest
				duration = -1
			}					
			random = {
				VIET_give_clutter_artifact_effect = yes
				chance = 10
			}	
		}
		custom_tooltip = { text = LONG_LIVE_XWEDODAH }
	}
}
